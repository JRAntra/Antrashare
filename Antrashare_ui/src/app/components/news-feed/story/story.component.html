<mat-card class="story">
    <mat-card-title class="storyHeader">
        <div id="avatar-card">
            <mat-icon id="avatar">person</mat-icon>
        </div>
        <div id='publicationInfo'>
            <mat-card-title id="publisherName" 
                [routerLink]="['/otherProfile/' + story.publisherName]" 
                routerLinkActive="router-link-active"
                (click)="onCheckAuth()">
                {{story.publisherName}}
            </mat-card-title>
            <mat-card-subtitle>
                Posted on: {{date}}
            </mat-card-subtitle>
        </div>
        <div *ngIf="isPublisher">
            <button mat-raised-button id="delete-button" 
                class="storyBottomBarButton" 
                (click)="onDeletePost()">
                <mat-icon>delete</mat-icon>
            </button>
        </div>
    </mat-card-title>
    <mat-card class="storyContent" [ngStyle]="textboxSize">
        <mat-card class="storyText">
            {{story.content.text}}
        </mat-card>
        <mat-card class="storyMedia" *ngIf='hasImage || hasVideo'>
            <img class='storyImage' *ngIf='hasImage' [src]="safeImage" (error)='hasImage = false'> <!-- 'validation' of image is handled here through conditional rendering -->
            <iframe class='storyVideo' *ngIf='hasVideo' [src]='safeVideo' allowfullscreen></iframe>
        </mat-card>
    </mat-card>
    <mat-card class="storyBottomBar">
        <div class="storyBottomBarItem">
            <button mat-raised-button class="storyBottomBarButton" (click)="onTriggerCommentDialog()">
                <mat-icon>comment</mat-icon>
                {{this.comLength}}
            </button>
        </div>
        <div class="storyBottomBarItem">
            Pagination
        </div>
        <div class="storyBottomBarItem">
            <button mat-raised-button class="storyBottomBarButton">
                <mat-icon>thumb_up</mat-icon>
            </button>
        </div>
    </mat-card>
</mat-card>